{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T14:19:31.963Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.","name":"PrismaClientInitializationError","stack":"PrismaClientInitializationError: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7615)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:18)","timestamp":"2025-05-16T14:19:31.964Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T14:22:04.518Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.","name":"PrismaClientInitializationError","stack":"PrismaClientInitializationError: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7615)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:18)","timestamp":"2025-05-16T14:22:04.520Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T14:22:33.534Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.","name":"PrismaClientInitializationError","stack":"PrismaClientInitializationError: \nInvalid `prisma.user.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:36\n\n  43 login: async (req: Request, res: Response) => {\n  44   const { email, password } = req.body;\n  45 \n→ 46   const user = await prisma.user.findUnique(\nAuthentication failed against database server at `localhost`, the provided database credentials for `postgres` are not valid.\n\nPlease make sure to provide valid database credentials for the database server at `localhost`.\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7615)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:46:18)","timestamp":"2025-05-16T14:22:33.535Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:51:13)","statusCode":401,"timestamp":"2025-05-16T14:27:43.913Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:51:13)","statusCode":401,"timestamp":"2025-05-16T14:31:06.234Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:51:13)","statusCode":401,"timestamp":"2025-05-16T14:35:31.106Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:59:13)","statusCode":401,"timestamp":"2025-05-16T14:37:56.883Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T14:43:15.880Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.user.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:26:36\n\n  23 const hashedPassword = await hashPassword(password);\n  24 console.log('Senha criptografada');\n  25 \n→ 26 const user = await prisma.user.create({\n       data: {\n         name: \"Teste\",\n         email: \"teste@teste.com\",\n         password: \"$2b$10$EI8y30uwyoSvpGbzBGFE6.4tR5PhD7js9rEu7s1Z/9hi6J0uNGvZG\",\n         role: \"CLIENT\"\n               ~~~~~~~~\n       }\n     })\n\nInvalid value for argument `role`. Expected Role.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:26:36\n\n  23 const hashedPassword = await hashPassword(password);\n  24 console.log('Senha criptografada');\n  25 \n→ 26 const user = await prisma.user.create({\n       data: {\n         name: \"Teste\",\n         email: \"teste@teste.com\",\n         password: \"$2b$10$EI8y30uwyoSvpGbzBGFE6.4tR5PhD7js9rEu7s1Z/9hi6J0uNGvZG\",\n         role: \"CLIENT\"\n               ~~~~~~~~\n       }\n     })\n\nInvalid value for argument `role`. Expected Role.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at register (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:26:18)","timestamp":"2025-05-16T14:43:15.881Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:59:13)","statusCode":401,"timestamp":"2025-05-16T14:58:25.297Z"}
{"level":"error","message":"Erro não tratado: Acesso negado. Apenas clientes podem acessar esta área.","stack":"Error: Acesso negado. Apenas clientes podem acessar esta área.\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:69:13)","statusCode":403,"timestamp":"2025-05-16T15:26:31.368Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-16T15:42:49.196Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T17:34:46.488Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:36:44\n\n  33   cart = await prisma.cart.create({ data: { userId } });\n  34 }\n  35 // Verifica se o item já existe\n→ 36 const existing = await prisma.cartItem.findFirst({\n       where: {\n         cartId: \"6a37a36c-bac8-43e6-885c-ca3d3ae8a5f1\",\n         productId: 1\n                    ~\n       }\n     })\n\nArgument `productId`: Invalid value provided. Expected StringFilter or String, provided Int.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:36:44\n\n  33   cart = await prisma.cart.create({ data: { userId } });\n  34 }\n  35 // Verifica se o item já existe\n→ 36 const existing = await prisma.cartItem.findFirst({\n       where: {\n         cartId: \"6a37a36c-bac8-43e6-885c-ca3d3ae8a5f1\",\n         productId: 1\n                    ~\n       }\n     })\n\nArgument `productId`: Invalid value provided. Expected StringFilter or String, provided Int.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:36:22)","timestamp":"2025-05-16T17:34:46.490Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-16T17:36:29.251Z"}
{"clientVersion":"5.22.0","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.cartItem.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:47:40\n\n  44   });\n  45   return res.json(updated);\n  46 }\n→ 47 const item = await prisma.cartItem.create(\nForeign key constraint violated: `(not available)`","meta":{"field_name":"(not available)","modelName":"CartItem"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cartItem.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:47:40\n\n  44   });\n  45   return res.json(updated);\n  46 }\n→ 47 const item = await prisma.cartItem.create(\nForeign key constraint violated: `(not available)`\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:47:18)","timestamp":"2025-05-16T17:36:29.253Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:36:13)","statusCode":404,"timestamp":"2025-05-16T17:37:09.842Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-17T03:00:40.064Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-18T03:03:31.785Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-19T03:06:23.292Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-20T03:02:14.822Z"}
{"code":"ENOENT","errno":-4058,"level":"error","path":"C:\\adega-flow-digital\\backend\\uploads\\925f5713597574df6e25-226281-800-auto.png","storageErrors":[],"syscall":"open","timestamp":"2025-05-20T13:13:07.234Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:22:38.923Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/e78a27fd9396cac15cff-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/e78a27fd9396cac15cff-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:22:38.924Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:23:03.029Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/da176f3581adf9425d03-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/da176f3581adf9425d03-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:23:03.030Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:24:27.369Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/e4e62b7d3e079eaefa49-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/e4e62b7d3e079eaefa49-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:24:27.370Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:39:02.002Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/3ce4c62794de03a52263-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"asdafda\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/3ce4c62794de03a52263-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:39:02.002Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:39:24.261Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"sdfasdfa\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/f0cb1db294c00a7a5371-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"sdfasdfa\",\n         price: 5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/f0cb1db294c00a7a5371-226281-800-auto.png\",\n         categoryId: null,\n         supplierId: null,\n     +   costPrice: Float\n       }\n     })\n\nArgument `costPrice` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:39:24.263Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T13:40:33.618Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"sdfasdfa\",\n         price: 5,\n         costPrice: 2.5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/fb0c91343a2518516334-226281-800-auto.png\",\n         ~~~~~\n         categoryId: null,\n         supplierId: null,\n     ?   id?: String,\n     ?   active?: Boolean,\n     ?   createdAt?: DateTime,\n     ?   updatedAt?: DateTime,\n     ?   category?: CategoryCreateNestedOneWithoutProductsInput,\n     ?   supplier?: SupplierCreateNestedOneWithoutProductsInput,\n     ?   saleItems?: SaleItemCreateNestedManyWithoutProductInput,\n     ?   kitItems?: KitItemCreateNestedManyWithoutProductInput,\n     ?   cartItems?: CartItemCreateNestedManyWithoutProductInput,\n     ?   orderItems?: OrderItemCreateNestedManyWithoutProductInput\n       }\n     })\n\nUnknown argument `image`. Did you mean `name`? Available options are marked with ?.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.product.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:42\n\n  15 if (req.file) {\n  16   image = `/uploads/${req.file.filename}`;\n  17 }\n→ 18 const product = await prisma.product.create({\n       data: {\n         name: \"Cerveja Heineken\",\n         description: \"sdfasdfa\",\n         price: 5,\n         costPrice: 2.5,\n         stock: 50,\n         minStock: 0,\n         barcode: undefined,\n         sku: undefined,\n         image: \"/uploads/fb0c91343a2518516334-226281-800-auto.png\",\n         ~~~~~\n         categoryId: null,\n         supplierId: null,\n     ?   id?: String,\n     ?   active?: Boolean,\n     ?   createdAt?: DateTime,\n     ?   updatedAt?: DateTime,\n     ?   category?: CategoryCreateNestedOneWithoutProductsInput,\n     ?   supplier?: SupplierCreateNestedOneWithoutProductsInput,\n     ?   saleItems?: SaleItemCreateNestedManyWithoutProductInput,\n     ?   kitItems?: KitItemCreateNestedManyWithoutProductInput,\n     ?   cartItems?: CartItemCreateNestedManyWithoutProductInput,\n     ?   orderItems?: OrderItemCreateNestedManyWithoutProductInput\n       }\n     })\n\nUnknown argument `image`. Did you mean `name`? Available options are marked with ?.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\product.ts:18:21)","timestamp":"2025-05-20T13:40:33.619Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T14:32:17.793Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:23:38\n\n  20 // Calcula total\n  21 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0) + (deliveryFee || 0);\n  22 // Cria o pedido\n→ 23 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: undefined,\n         paymentMethod: \"money\",\n         deliveryFee: 0,\n         total: 12,\n         instructions: undefined,\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             },\n             {\n               productId: \"b2b77572-d638-4df7-b99c-1e41e8e193be\",\n               quantity: 2,\n               price: 3.5\n             }\n           ]\n         },\n     +   address: {\n     +     create: AddressCreateWithoutOrdersInput | AddressUncheckedCreateWithoutOrdersInput,\n     +     connectOrCreate: AddressCreateOrConnectWithoutOrdersInput,\n     +     connect: AddressWhereUniqueInput\n     +   }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true\n       }\n     })\n\nArgument `address` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:23:38\n\n  20 // Calcula total\n  21 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0) + (deliveryFee || 0);\n  22 // Cria o pedido\n→ 23 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: undefined,\n         paymentMethod: \"money\",\n         deliveryFee: 0,\n         total: 12,\n         instructions: undefined,\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             },\n             {\n               productId: \"b2b77572-d638-4df7-b99c-1e41e8e193be\",\n               quantity: 2,\n               price: 3.5\n             }\n           ]\n         },\n     +   address: {\n     +     create: AddressCreateWithoutOrdersInput | AddressUncheckedCreateWithoutOrdersInput,\n     +     connectOrCreate: AddressCreateOrConnectWithoutOrdersInput,\n     +     connect: AddressWhereUniqueInput\n     +   }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true\n       }\n     })\n\nArgument `address` is missing.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:23:19)","timestamp":"2025-05-20T14:32:17.793Z"}
{"level":"error","message":"Erro não tratado: Endereço de entrega é obrigatório","stack":"Error: Endereço de entrega é obrigatório\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:15:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:45:5)","statusCode":400,"timestamp":"2025-05-20T14:55:31.465Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T15:10:02.103Z"}
{"clientVersion":"5.22.0","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.findMany()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:88:39\n\n  85 list: async (req: Request, res: Response) => {\n  86   // @ts-ignore\n  87   const userId = req.user.id;\n→ 88   const orders = await prisma.order.findMany(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"Order"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.order.findMany()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:88:39\n\n  85 list: async (req: Request, res: Response) => {\n  86   // @ts-ignore\n  87   const userId = req.user.id;\n→ 88   const orders = await prisma.order.findMany(\nThe column `existe` does not exist in the current database.\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7315)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at list (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:88:20)","timestamp":"2025-05-20T15:10:02.104Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T15:27:10.427Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:19)","timestamp":"2025-05-20T15:27:10.428Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T15:27:28.617Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:19)","timestamp":"2025-05-20T15:27:28.618Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T15:27:52.717Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:38\n\n  38 const total = cart.items.reduce((sum: number, item: any) => sum + item.product.price * item.quantity, 0);\n  39 \n  40 // Cria o pedido\n→ 41 const order = await prisma.order.create({\n       data: {\n         userId: \"d14fc04c-54ae-47b1-92d5-17f371595d37\",\n         addressId: \"b58c862b-7d15-421a-a0f6-99d0cbdf39dd\",\n         paymentMethod: \"money\",\n                        ~~~~~~~\n         total: 5,\n         instructions: \"\",\n         items: {\n           create: [\n             {\n               productId: \"71023d92-6925-4e04-83aa-309a2e9b5baa\",\n               quantity: 1,\n               price: 5\n             }\n           ]\n         }\n       },\n       include: {\n         items: {\n           include: {\n             product: true\n           }\n         },\n         address: true,\n         user: {\n           select: {\n             name: true,\n             email: true\n           }\n         }\n       }\n     })\n\nInvalid value for argument `paymentMethod`. Expected PaymentMethod.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:41:19)","timestamp":"2025-05-20T15:27:52.717Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T16:01:33.586Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"preparing\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"preparing\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at updateStatus (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:19)","timestamp":"2025-05-20T16:01:33.586Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T16:01:40.072Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"preparing\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"preparing\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at updateStatus (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:19)","timestamp":"2025-05-20T16:01:40.073Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-20T16:02:10.356Z"}
{"clientVersion":"5.22.0","level":"error","message":"Erro não tratado: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"cancelled\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.order.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:38\n\n  120 updateStatus: async (req: Request, res: Response) => {\n  121   const { id } = req.params;\n  122   const { status } = req.body;\n→ 123   const order = await prisma.order.update({\n          where: {\n            id: \"7cca5439-652e-4a25-9f62-993b5aaddd8f\"\n          },\n          data: {\n            status: \"cancelled\"\n                    ~~~~~~~~~~~\n          },\n          include: {\n            items: {\n              include: {\n                product: true\n              }\n            },\n            address: true\n          }\n        })\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at wn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at updateStatus (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:123:19)","timestamp":"2025-05-20T16:02:10.357Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:59:13)","statusCode":401,"timestamp":"2025-05-21T14:31:21.640Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-21T14:47:01.590Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-21T14:47:33.303Z"}
{"level":"error","message":"Erro não tratado: Email já cadastrado","stack":"Error: Email já cadastrado\n    at register (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:20:13)","statusCode":400,"timestamp":"2025-05-21T14:49:23.888Z"}
{"code":"ENOENT","errno":-4058,"level":"error","path":"C:\\adega-flow-digital\\backend\\public\\uploads\\1747839089834-330710067.png","storageErrors":[],"syscall":"open","timestamp":"2025-05-21T14:51:29.836Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-21T14:53:26.377Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-21T14:56:20.019Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-21T14:56:58.241Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-21T14:58:12.971Z"}
{"level":"error","message":"Erro não tratado: Email já cadastrado","stack":"Error: Email já cadastrado\n    at register (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:20:13)","statusCode":400,"timestamp":"2025-05-21T15:01:10.711Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-21T15:01:23.192Z"}
{"code":"ENOENT","errno":-4058,"level":"error","path":"C:\\adega-flow-digital\\backend\\public\\uploads\\1747843492767-552741187.jpg","storageErrors":[],"syscall":"open","timestamp":"2025-05-21T16:04:52.769Z"}
{"code":"ENOENT","errno":-4058,"level":"error","path":"C:\\adega-flow-digital\\backend\\public\\uploads\\1747843499565-113017217.jpg","storageErrors":[],"syscall":"open","timestamp":"2025-05-21T16:04:59.567Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-21T16:20:54.670Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-22T03:03:27.318Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:12:35.407Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:12:49.106Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:12:50.348Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T12:13:47.531Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T12:16:24.061Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T12:16:39.056Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:17:04.070Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:17:42.371Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:20:51.798Z"}
{"level":"error","message":"Erro não tratado: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.","stack":"Error: Tipo de usuário inválido. Só é permitido ADMIN ou MOTOBOY.\n    at createUser (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:187:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","statusCode":400,"timestamp":"2025-05-22T12:21:12.247Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:22:02.420Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`email`)","meta":{"modelName":"Supplier","target":["email"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`email`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:22)","timestamp":"2025-05-22T13:22:02.421Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:23:08.382Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)","meta":{"modelName":"Supplier","target":["document"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:22)","timestamp":"2025-05-22T13:23:08.384Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:23:36.443Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)","meta":{"modelName":"Supplier","target":["document"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:44\n\n  24 },\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n→ 27   const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:27:22)","timestamp":"2025-05-22T13:23:36.443Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:24:27.169Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)","meta":{"modelName":"Supplier","target":["document"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:24)","timestamp":"2025-05-22T13:24:27.170Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:24:27.205Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)","meta":{"modelName":"Supplier","target":["document"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:24)","timestamp":"2025-05-22T13:24:27.206Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:24:27.207Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T13:25:03.883Z"}
{"clientVersion":"6.8.2","code":"P2002","level":"error","message":"Erro não tratado: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)","meta":{"modelName":"Supplier","target":["document"]},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.supplier.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:46\n\n  25 create: async (req: Request, res: Response) => {\n  26   const { name, email, phone, document, address, contact, category } = req.body;\n  27   try {\n→ 28     const supplier = await prisma.supplier.create(\nUnique constraint failed on the fields: (`document`)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\supplier.ts:28:24)","timestamp":"2025-05-22T13:25:03.884Z"}
{"level":"error","message":"Erro não tratado: Cannot read properties of undefined (reading 'findMany')","stack":"TypeError: Cannot read properties of undefined (reading 'findMany')\n    at list (C:\\adega-flow-digital\\backend\\src\\controllers\\paymentMethod.ts:6:48)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-05-22T13:37:42.778Z"}
{"level":"error","message":"Erro não tratado: Cannot read properties of undefined (reading 'create')","stack":"TypeError: Cannot read properties of undefined (reading 'create')\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\paymentMethod.ts:11:47)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\adega-flow-digital\\backend\\src\\middlewares\\role.ts:18:5\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-05-22T13:37:50.194Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:37.180Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:39.643Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:39.836Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:40.014Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:40.183Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:13:40.370Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:19:16.047Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:21:25.469Z"}
{"level":"error","message":"Erro não tratado: Forma de pagamento inválida","stack":"Error: Forma de pagamento inválida\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:20:13)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\adega-flow-digital\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at authMiddleware (C:\\adega-flow-digital\\backend\\src\\middlewares\\auth.ts:63:5)","statusCode":400,"timestamp":"2025-05-22T14:22:50.889Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T15:24:03.841Z"}
{"clientVersion":"6.8.2","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:286:36\n\n  283   return res.status(400).json({ error: 'Meio de pagamento inválido.' });\n  284 }\n  285 // Cria a venda\n→ 286 const sale = await prisma.sale.create({\n        data: {\n          total: 15,\n          paymentMethodId: \"8e0127a8-0874-476f-8ed5-c8b7e2a538ef\",\n          items: {\n            create: [\n              {\n                productId: \"a2a82289-840a-4ae8-a1e1-eae92a7648f0\",\n                quantity: 1,\n                price: 5\n              },\n              {\n                productId: \"88952bdc-0686-4337-b9c8-33f9a85d96da\",\n                quantity: 1,\n                price: 10\n              }\n            ]\n          },\n      +   user: {\n      +     create: UserCreateWithoutSalesInput | UserUncheckedCreateWithoutSalesInput,\n      +     connectOrCreate: UserCreateOrConnectWithoutSalesInput,\n      +     connect: UserWhereUniqueInput\n      +   }\n        },\n        include: {\n          items: true\n        }\n      })\n\nArgument `user` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:286:36\n\n  283   return res.status(400).json({ error: 'Meio de pagamento inválido.' });\n  284 }\n  285 // Cria a venda\n→ 286 const sale = await prisma.sale.create({\n        data: {\n          total: 15,\n          paymentMethodId: \"8e0127a8-0874-476f-8ed5-c8b7e2a538ef\",\n          items: {\n            create: [\n              {\n                productId: \"a2a82289-840a-4ae8-a1e1-eae92a7648f0\",\n                quantity: 1,\n                price: 5\n              },\n              {\n                productId: \"88952bdc-0686-4337-b9c8-33f9a85d96da\",\n                quantity: 1,\n                price: 10\n              }\n            ]\n          },\n      +   user: {\n      +     create: UserCreateWithoutSalesInput | UserUncheckedCreateWithoutSalesInput,\n      +     connectOrCreate: UserCreateOrConnectWithoutSalesInput,\n      +     connect: UserWhereUniqueInput\n      +   }\n        },\n        include: {\n          items: true\n        }\n      })\n\nArgument `user` is missing.\n    at kn (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7102)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:286:18)","timestamp":"2025-05-22T15:24:03.842Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:39:11.927Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:39:18.912Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:39:23.660Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T15:40:33.780Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T15:40:48.564Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T15:41:54.826Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:43:08.744Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-22T15:49:17.906Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:49:17.942Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:49:18.001Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:49:18.018Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:49:18.019Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:51:35.359Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:37:13)","statusCode":404,"timestamp":"2025-05-22T15:51:57.957Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:76:13)","statusCode":404,"timestamp":"2025-05-22T15:53:24.511Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:76:13)","statusCode":404,"timestamp":"2025-05-22T15:54:49.412Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:76:13)","statusCode":404,"timestamp":"2025-05-22T15:55:42.068Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:76:13)","statusCode":404,"timestamp":"2025-05-22T15:57:18.393Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-22T16:58:52.085Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-23T03:04:18.676Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:82:13)","statusCode":404,"timestamp":"2025-05-23T12:42:36.473Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:82:13)","statusCode":404,"timestamp":"2025-05-23T12:42:39.910Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:82:13)","statusCode":404,"timestamp":"2025-05-23T13:38:22.058Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:82:13)","statusCode":404,"timestamp":"2025-05-23T13:38:38.666Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:111:13)","statusCode":404,"timestamp":"2025-05-23T13:42:28.728Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:111:13)","statusCode":404,"timestamp":"2025-05-23T13:42:28.764Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:111:13)","statusCode":404,"timestamp":"2025-05-23T13:43:12.086Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:111:13)","statusCode":404,"timestamp":"2025-05-23T13:43:26.285Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:113:13)","statusCode":404,"timestamp":"2025-05-23T13:48:46.991Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:114:13)","statusCode":404,"timestamp":"2025-05-23T13:52:15.858Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:114:13)","statusCode":404,"timestamp":"2025-05-23T13:55:57.511Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:115:13)","statusCode":404,"timestamp":"2025-05-23T13:58:16.634Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:115:13)","statusCode":404,"timestamp":"2025-05-23T14:00:40.584Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:115:13)","statusCode":404,"timestamp":"2025-05-23T14:03:06.927Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:115:13)","statusCode":404,"timestamp":"2025-05-23T14:03:36.355Z"}
{"level":"error","message":"Erro não tratado: Produto não encontrado","stack":"Error: Produto não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:115:13)","statusCode":404,"timestamp":"2025-05-23T14:07:20.753Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:49:50.556Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"Cart"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at getCart (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:16)","timestamp":"2025-05-23T14:49:50.556Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:50:01.949Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:44\n\n  118   throw new AppError('Produto não encontrado', 404);\n  119 }\n  120 // Verifica se o item já existe\n→ 121 const existing = await prisma.cartItem.findFirst(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"CartItem"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:44\n\n  118   throw new AppError('Produto não encontrado', 404);\n  119 }\n  120 // Verifica se o item já existe\n→ 121 const existing = await prisma.cartItem.findFirst(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:22)","timestamp":"2025-05-23T14:50:01.950Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:50:07.554Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:44\n\n  118   throw new AppError('Produto não encontrado', 404);\n  119 }\n  120 // Verifica se o item já existe\n→ 121 const existing = await prisma.cartItem.findFirst(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"CartItem"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cartItem.findFirst()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:44\n\n  118   throw new AppError('Produto não encontrado', 404);\n  119 }\n  120 // Verifica se o item já existe\n→ 121 const existing = await prisma.cartItem.findFirst(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:121:22)","timestamp":"2025-05-23T14:50:07.556Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:50:12.029Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"Cart"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at getCart (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:16)","timestamp":"2025-05-23T14:50:12.030Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:50:24.948Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"Cart"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at getCart (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:16)","timestamp":"2025-05-23T14:50:24.948Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T14:50:25.861Z"}
{"clientVersion":"6.8.2","code":"P2022","level":"error","message":"Erro não tratado: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.","meta":{"column":"existe","modelName":"Cart"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.cart.findUnique()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:34\n\n   7 getCart: async (req: Request, res: Response) => {\n   8   // @ts-ignore\n   9   const userId = req.user.id;\n→ 10   let cart = await prisma.cart.findUnique(\nThe column `existe` does not exist in the current database.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at getCart (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:10:16)","timestamp":"2025-05-23T14:50:25.862Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:135:13)","statusCode":404,"timestamp":"2025-05-23T15:56:35.908Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:166:13)","statusCode":404,"timestamp":"2025-05-23T16:14:51.716Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:40:08.123Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:40:08.124Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:40:30.557Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:40:30.557Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:40:34.119Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:40:34.119Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:45:58.954Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:45:58.955Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:51:22.541Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:51:22.543Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-23T18:51:22.606Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-23T18:51:22.606Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:159:13)","statusCode":404,"timestamp":"2025-05-23T18:54:08.804Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:159:13)","statusCode":404,"timestamp":"2025-05-23T18:54:08.806Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:159:13)","statusCode":404,"timestamp":"2025-05-23T18:54:08.848Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:159:13)","statusCode":404,"timestamp":"2025-05-23T18:54:08.883Z"}
{"level":"error","message":"Erro não tratado: Item não encontrado","stack":"Error: Item não encontrado\n    at removeItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:159:13)","statusCode":404,"timestamp":"2025-05-23T18:54:09.080Z"}
{"level":"error","message":"Erro não tratado: Combo não encontrado","stack":"Error: Combo não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:44:15)","statusCode":404,"timestamp":"2025-05-23T19:03:10.521Z"}
{"level":"error","message":"Erro não tratado: Combo não encontrado","stack":"Error: Combo não encontrado\n    at addItem (C:\\adega-flow-digital\\backend\\src\\controllers\\cart.ts:44:15)","statusCode":404,"timestamp":"2025-05-23T19:04:04.406Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-24T03:01:13.497Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:57:44.822Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:57:44.823Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:57:52.124Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:57:52.124Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:57:55.832Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:57:55.832Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:57:57.012Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:57:57.012Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:58:27.160Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:58:27.160Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T13:59:06.028Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T13:59:06.030Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:01:09.987Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T14:01:09.988Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:01:10.013Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:36\n\n  289 // @ts-ignore\n  290 const userId = req.user.id;\n  291 // Cria a venda\n→ 292 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:292:18)","timestamp":"2025-05-24T14:01:10.013Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:03:19.175Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:293:36\n\n  290 const userId = req.user.id;\n  291 console.log('Itens enviados para venda:', items);\n  292 // Cria a venda\n→ 293 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:293:36\n\n  290 const userId = req.user.id;\n  291 console.log('Itens enviados para venda:', items);\n  292 // Cria a venda\n→ 293 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:293:18)","timestamp":"2025-05-24T14:03:19.175Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:05:51.955Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:36\n\n  291 const validItems = items.filter(item => !!item.productId);\n  292 console.log('Itens válidos para venda:', validItems);\n  293 // Cria a venda\n→ 294 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:36\n\n  291 const validItems = items.filter(item => !!item.productId);\n  292 console.log('Itens válidos para venda:', validItems);\n  293 // Cria a venda\n→ 294 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:18)","timestamp":"2025-05-24T14:05:51.956Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:07:31.606Z"}
{"clientVersion":"6.8.2","code":"P2003","level":"error","message":"Erro não tratado: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:36\n\n  291 const validItems = items.filter(item => !!item.productId);\n  292 console.log('Itens válidos para venda:', validItems);\n  293 // Cria a venda\n→ 294 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)","meta":{"constraint":null,"modelName":"Sale"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.sale.create()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:36\n\n  291 const validItems = items.filter(item => !!item.productId);\n  292 console.log('Itens válidos para venda:', validItems);\n  293 // Cria a venda\n→ 294 const sale = await prisma.sale.create(\nForeign key constraint violated on the (not available)\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:294:18)","timestamp":"2025-05-24T14:07:31.608Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:11:48.649Z"}
{"clientVersion":"6.8.2","code":"P2025","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:30\n\n  333   }\n  334 } else if (item.productId) {\n  335   // Produto normal\n→ 336   await prisma.product.update(\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update.","meta":{"cause":"No record was found for an update.","modelName":"Product"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:30\n\n  333   }\n  334 } else if (item.productId) {\n  335   // Produto normal\n→ 336   await prisma.product.update(\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:9)","timestamp":"2025-05-24T14:11:48.650Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T14:13:51.249Z"}
{"clientVersion":"6.8.2","code":"P2025","level":"error","message":"Erro não tratado: \nInvalid `prisma.product.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:30\n\n  333   }\n  334 } else if (item.productId) {\n  335   // Produto normal\n→ 336   await prisma.product.update(\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update.","meta":{"cause":"No record was found for an update.","modelName":"Product"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.update()` invocation in\nC:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:30\n\n  333   }\n  334 } else if (item.productId) {\n  335   // Produto normal\n→ 336   await prisma.product.update(\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update.\n    at Zn.handleRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at Zn.handleAndLogRequestError (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at Zn.request (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at l (C:\\adega-flow-digital\\backend\\node_modules\\@prisma\\client\\runtime\\library.js:130:9778)\n    at createPDVSale (C:\\adega-flow-digital\\backend\\src\\controllers\\admin.ts:336:9)","timestamp":"2025-05-24T14:13:51.250Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T15:25:32.090Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T15:31:57.294Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T15:34:03.137Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T15:34:38.318Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T15:36:55.880Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T17:06:04.274Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T17:17:04.041Z"}
{"level":"error","message":"Erro no Prisma:","timestamp":"2025-05-24T17:17:12.196Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Gelo de Coco - Maçã Verde'. Disponível: 1, solicitado: 2","stack":"Error: Estoque insuficiente para o produto 'Gelo de Coco - Maçã Verde'. Disponível: 1, solicitado: 2\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T17:49:47.042Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Gelo de Coco - Maçã Verde'. Disponível: 1, solicitado: 2","stack":"Error: Estoque insuficiente para o produto 'Gelo de Coco - Maçã Verde'. Disponível: 1, solicitado: 2\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T17:56:29.743Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:03:23.224Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:03:38.056Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:05:17.056Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:05:21.591Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:10:40.785Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:10:53.275Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:12:41.391Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:12:47.449Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:12:48.727Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:12:48.887Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:13:57.829Z"}
{"level":"error","message":"Erro não tratado: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29","stack":"Error: Estoque insuficiente para o produto 'Energético Baly - Maçã Verde'. Disponível: 28, solicitado: 29\n    at create (C:\\adega-flow-digital\\backend\\src\\controllers\\order.ts:51:15)","statusCode":400,"timestamp":"2025-05-24T18:14:48.851Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:65:13)","statusCode":401,"timestamp":"2025-05-24T20:07:31.628Z"}
{"level":"error","message":"Erro não tratado: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.","stack":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (C:\\adega-flow-digital\\backend\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","timestamp":"2025-05-25T03:04:32.201Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:70:13)","statusCode":401,"timestamp":"2025-06-03T20:22:48.232Z"}
{"level":"error","message":"Erro não tratado: Credenciais inválidas","stack":"Error: Credenciais inválidas\n    at login (C:\\adega-flow-digital\\backend\\src\\controllers\\client.ts:70:13)","statusCode":401,"timestamp":"2025-06-03T20:23:01.473Z"}
